{"version":3,"sources":["webpack:///src/app/device/device.page.html","webpack:///src/app/device/device-routing.module.ts","webpack:///src/app/device/device.module.ts","webpack:///src/app/device/device.page.scss","webpack:///src/app/device/device.page.ts"],"names":["routes","path","component","DevicePageRoutingModule","imports","forChild","exports","DevicePageModule","declarations","providers","DevicePage","ble","bleData","console","log","document","URL","indexOf","splitURL","split","splitParams","forEach","param","paramData","read","id","uuid","char","self","readFun","setInterval","then","buffer","alert","JSON","stringify","bytesToString","err","clearInterval","String","fromCharCode","apply","Uint8Array","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAWA,QAAaC,uBAAuB;AAAA;AAAA,KAApC;;AAAaA,2BAAuB,6DAJnC,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAImC,GAAvBH,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKb,QAAaI,gBAAgB;AAAA;AAAA,KAA7B;;AAAaA,oBAAgB,6DAV5B,+DAAS;AACRH,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,8EAJO,CADD;AAORI,kBAAY,EAAE,CAAC,uDAAD,CAPN;AAQRC,eAAS,EAAE,CAAC,yDAAD;AARH,KAAT,CAU4B,GAAhBF,gBAAgB,CAAhB;;;;;;;;;;;;;;;;ACrBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACQf,QAAaG,UAAU;AAGrB,0BACUC,GADV,EACkB;AAAA;;AAAR,aAAAA,GAAA,GAAAA,GAAA;AAER,aAAKC,OAAL,GAAe,EAAf;AACD;;AAPoB;AAAA;AAAA,mCASV,CACV;AAVoB;AAAA;AAAA,0CAWH;AAAA;;AAChBC,iBAAO,CAACC,GAAR,CAAY,aAAZ;;AACA,cAAIC,QAAQ,CAACC,GAAT,CAAaC,OAAb,CAAqB,GAArB,IAA4B,CAAhC,EAAmC;AACjC,gBAAIC,QAAQ,GAAGH,QAAQ,CAACC,GAAT,CAAaG,KAAb,CAAmB,GAAnB,CAAf;AACA,gBAAIC,WAAW,GAAGF,QAAQ,CAAC,CAAD,CAAR,CAAYC,KAAZ,CAAkB,GAAlB,CAAlB;AACAC,uBAAW,CAACC,OAAZ,CAAoB,UAAAC,KAAK,EAAI;AAC3B,kBAAIC,SAAS,GAAID,KAAK,CAACH,KAAN,CAAY,GAAZ,CAAjB;;AACA,sBAAQI,SAAS,CAAC,CAAD,CAAjB;AACE,qBAAK,IAAL;AACE,uBAAI,CAACX,OAAL,CAAa,IAAb,IAAoBW,SAAS,CAAC,CAAD,CAA7B;AACA;;AACF,qBAAK,MAAL;AACE,uBAAI,CAACX,OAAL,CAAa,MAAb,IAAsBW,SAAS,CAAC,CAAD,CAA/B;AACA;;AACF,qBAAK,MAAL;AACE,uBAAI,CAACX,OAAL,CAAa,MAAb,IAAsBW,SAAS,CAAC,CAAD,CAA/B;AACA;;AACF;AACE;AAXJ;AAaD,aAfD;AAgBD;;AACD,eAAKC,IAAL,CAAU,KAAKZ,OAAL,CAAaa,EAAvB,EAA2B,KAAKb,OAAL,CAAac,IAAxC,EAA8C,KAAKd,OAAL,QAA9C;AACD;AAlCoB;AAAA;AAAA,6BAmChBa,EAnCgB,EAmCZC,IAnCY,EAmCNC,KAnCM,EAmCA;AACnB,cAAIC,IAAI,GAAG,IAAX;AACA,eAAKC,OAAL,GAAeC,WAAW,CAAC,YAAY;AACrCF,gBAAI,CAACjB,GAAL,CAASa,IAAT,CAAcC,EAAd,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA8BI,IAA9B,CAAmC,UAACC,MAAD,EAAY;AAC7CC,mBAAK,CAACC,IAAI,CAACC,SAAL,CAAeP,IAAI,CAACQ,aAAL,CAAmBJ,MAAnB,CAAf,CAAD,CAAL;AACD,aAFD,EAEG,UAACK,GAAD,EAAS;AACVJ,mBAAK,CAAC,eAAD,CAAL;AACD,aAJD;AAKD,WANyB,EAMvB,IANuB,CAA1B;AAOD;AA5CoB;AAAA;AAAA,2CA6CF;AACjBK,uBAAa,CAAC,KAAKT,OAAN,CAAb;AACD;AA/CoB;AAAA;AAAA,sCAgDPG,MAhDO,EAgDC;AACpB,iBAAOO,MAAM,CAACC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgC,IAAIC,UAAJ,CAAeV,MAAf,CAAhC,CAAP;AACD;AAlDoB;;AAAA;AAAA,OAAvB;;;;cAIiB;;;;AAJJtB,cAAU,6DALtB,gEAAU;AACTiC,cAAQ,EAAE,YADD;AAETC,cAAQ,EAAR;AAAA;AAAA,4FAFS;;;;AAAA,KAAV,CAKsB,GAAVlC,UAAU,CAAV","file":"device-device-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>device</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DevicePage } from './device.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DevicePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DevicePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DevicePageRoutingModule } from './device-routing.module';\n\nimport { DevicePage } from './device.page';\nimport { BLE } from '@ionic-native/ble/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DevicePageRoutingModule\n  ],\n  declarations: [DevicePage],\n  providers: [BLE]\n})\nexport class DevicePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RldmljZS9kZXZpY2UucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { BLE } from '@ionic-native/ble/ngx';\n\n@Component({\n  selector: 'app-device',\n  templateUrl: './device.page.html',\n  styleUrls: ['./device.page.scss'],\n})\nexport class DevicePage implements OnInit {\n  readFun: any;\n  bleData: any;\n  constructor(\n    private ble: BLE,\n  ) {\n    this.bleData = {};\n  }\n\n  ngOnInit() {\n  }\n  ionViewDidEnter() {\n    console.log('Hello World')\n    if (document.URL.indexOf(\"?\") > 0) {\n      let splitURL = document.URL.split(\"?\");\n      let splitParams = splitURL[1].split(\"&\");\n      splitParams.forEach(param => {\n        var paramData = (param.split('='));\n        switch (paramData[0]) {\n          case 'id':\n            this.bleData['id']= paramData[1];\n            break;\n          case 'uuid':\n            this.bleData['uuid']= paramData[1];\n            break;\n          case 'char':\n            this.bleData['char']= paramData[1];\n            break;\n          default:\n            break;\n        }\n      });\n    }\n    this.read(this.bleData.id, this.bleData.uuid, this.bleData.char);\n  }\n  read(id, uuid, char) {\n    var self = this;\n    this.readFun = setInterval(function () {\n      self.ble.read(id, uuid, char).then((buffer) => {\n        alert(JSON.stringify(self.bytesToString(buffer)));\n      }, (err) => { \n        alert('error reading')\n      })\n    }, 5000)\n  }\n  ionViewWillLeave() {\n    clearInterval(this.readFun);\n  }\n  bytesToString(buffer) {\n    return String.fromCharCode.apply(null, new Uint8Array(buffer));\n  }\n}\n"]}