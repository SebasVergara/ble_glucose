{"version":3,"sources":["./src/app/device/device.page.html","./src/app/device/device-routing.module.ts","./src/app/device/device.module.ts","./src/app/device/device.page.scss","./src/app/device/device.page.ts"],"names":[],"mappings":"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","file":"device-device-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>device</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DevicePage } from './device.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DevicePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DevicePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DevicePageRoutingModule } from './device-routing.module';\n\nimport { DevicePage } from './device.page';\nimport { BLE } from '@ionic-native/ble/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DevicePageRoutingModule\n  ],\n  declarations: [DevicePage],\n  providers: [BLE]\n})\nexport class DevicePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RldmljZS9kZXZpY2UucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { BLE } from '@ionic-native/ble/ngx';\n\n@Component({\n  selector: 'app-device',\n  templateUrl: './device.page.html',\n  styleUrls: ['./device.page.scss'],\n})\nexport class DevicePage implements OnInit {\n  readFun: any;\n  bleData: any;\n  constructor(\n    private ble: BLE,\n  ) {\n    this.bleData = {};\n  }\n\n  ngOnInit() {\n  }\n  ionViewDidEnter() {\n    console.log('Hello World')\n    if (document.URL.indexOf(\"?\") > 0) {\n      let splitURL = document.URL.split(\"?\");\n      let splitParams = splitURL[1].split(\"&\");\n      splitParams.forEach(param => {\n        var paramData = (param.split('='));\n        switch (paramData[0]) {\n          case 'id':\n            this.bleData['id']= paramData[1];\n            break;\n          case 'uuid':\n            this.bleData['uuid']= paramData[1];\n            break;\n          case 'char':\n            this.bleData['char']= paramData[1];\n            break;\n          default:\n            break;\n        }\n      });\n    }\n    this.read(this.bleData.id, this.bleData.uuid, this.bleData.char);\n  }\n  read(id, uuid, char) {\n    var self = this;\n    this.readFun = setInterval(function () {\n      self.ble.read(id, uuid, char).then((buffer) => {\n        alert(JSON.stringify(self.bytesToString(buffer)));\n      }, (err) => { \n        alert('error reading')\n      })\n    }, 5000)\n  }\n  ionViewWillLeave() {\n    clearInterval(this.readFun);\n  }\n  bytesToString(buffer) {\n    return String.fromCharCode.apply(null, new Uint8Array(buffer));\n  }\n}\n"],"sourceRoot":"webpack:///"}